{
  "version": 3,
  "sources": ["../../node_modules/emittery/maps.js", "../../node_modules/emittery/index.js", "../../node_modules/@alien_org/contract/dist/index.mjs", "../../node_modules/@alien_org/bridge/dist/index.mjs", "../../src/shared.js"],
  "sourcesContent": ["export const anyMap = new WeakMap();\nexport const eventsMap = new WeakMap();\nexport const producersMap = new WeakMap();\n", "import {anyMap, producersMap, eventsMap} from './maps.js';\n\nconst anyProducer = Symbol('anyProducer');\nconst resolvedPromise = Promise.resolve();\n\n// Define symbols for \"meta\" events.\nconst listenerAdded = Symbol('listenerAdded');\nconst listenerRemoved = Symbol('listenerRemoved');\n\nlet canEmitMetaEvents = false;\nlet isGlobalDebugEnabled = false;\n\nconst isEventKeyType = key => typeof key === 'string' || typeof key === 'symbol' || typeof key === 'number';\n\nfunction assertEventName(eventName) {\n\tif (!isEventKeyType(eventName)) {\n\t\tthrow new TypeError('`eventName` must be a string, symbol, or number');\n\t}\n}\n\nfunction assertListener(listener) {\n\tif (typeof listener !== 'function') {\n\t\tthrow new TypeError('listener must be a function');\n\t}\n}\n\nfunction getListeners(instance, eventName) {\n\tconst events = eventsMap.get(instance);\n\tif (!events.has(eventName)) {\n\t\treturn;\n\t}\n\n\treturn events.get(eventName);\n}\n\nfunction getEventProducers(instance, eventName) {\n\tconst key = isEventKeyType(eventName) ? eventName : anyProducer;\n\tconst producers = producersMap.get(instance);\n\tif (!producers.has(key)) {\n\t\treturn;\n\t}\n\n\treturn producers.get(key);\n}\n\nfunction enqueueProducers(instance, eventName, eventData) {\n\tconst producers = producersMap.get(instance);\n\tif (producers.has(eventName)) {\n\t\tfor (const producer of producers.get(eventName)) {\n\t\t\tproducer.enqueue(eventData);\n\t\t}\n\t}\n\n\tif (producers.has(anyProducer)) {\n\t\tconst item = Promise.all([eventName, eventData]);\n\t\tfor (const producer of producers.get(anyProducer)) {\n\t\t\tproducer.enqueue(item);\n\t\t}\n\t}\n}\n\nfunction iterator(instance, eventNames) {\n\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\n\tlet isFinished = false;\n\tlet flush = () => {};\n\tlet queue = [];\n\n\tconst producer = {\n\t\tenqueue(item) {\n\t\t\tqueue.push(item);\n\t\t\tflush();\n\t\t},\n\t\tfinish() {\n\t\t\tisFinished = true;\n\t\t\tflush();\n\t\t},\n\t};\n\n\tfor (const eventName of eventNames) {\n\t\tlet set = getEventProducers(instance, eventName);\n\t\tif (!set) {\n\t\t\tset = new Set();\n\t\t\tconst producers = producersMap.get(instance);\n\t\t\tproducers.set(eventName, set);\n\t\t}\n\n\t\tset.add(producer);\n\t}\n\n\treturn {\n\t\tasync next() {\n\t\t\tif (!queue) {\n\t\t\t\treturn {done: true};\n\t\t\t}\n\n\t\t\tif (queue.length === 0) {\n\t\t\t\tif (isFinished) {\n\t\t\t\t\tqueue = undefined;\n\t\t\t\t\treturn this.next();\n\t\t\t\t}\n\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tflush = resolve;\n\t\t\t\t});\n\n\t\t\t\treturn this.next();\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdone: false,\n\t\t\t\tvalue: await queue.shift(),\n\t\t\t};\n\t\t},\n\n\t\tasync return(value) {\n\t\t\tqueue = undefined;\n\n\t\t\tfor (const eventName of eventNames) {\n\t\t\t\tconst set = getEventProducers(instance, eventName);\n\t\t\t\tif (set) {\n\t\t\t\t\tset.delete(producer);\n\t\t\t\t\tif (set.size === 0) {\n\t\t\t\t\t\tconst producers = producersMap.get(instance);\n\t\t\t\t\t\tproducers.delete(eventName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tflush();\n\n\t\t\treturn arguments.length > 0\n\t\t\t\t? {done: true, value: await value}\n\t\t\t\t: {done: true};\n\t\t},\n\n\t\t[Symbol.asyncIterator]() {\n\t\t\treturn this;\n\t\t},\n\t};\n}\n\nfunction defaultMethodNamesOrAssert(methodNames) {\n\tif (methodNames === undefined) {\n\t\treturn allEmitteryMethods;\n\t}\n\n\tif (!Array.isArray(methodNames)) {\n\t\tthrow new TypeError('`methodNames` must be an array of strings');\n\t}\n\n\tfor (const methodName of methodNames) {\n\t\tif (!allEmitteryMethods.includes(methodName)) {\n\t\t\tif (typeof methodName !== 'string') {\n\t\t\t\tthrow new TypeError('`methodNames` element must be a string');\n\t\t\t}\n\n\t\t\tthrow new Error(`${methodName} is not Emittery method`);\n\t\t}\n\t}\n\n\treturn methodNames;\n}\n\nconst isMetaEvent = eventName => eventName === listenerAdded || eventName === listenerRemoved;\n\nfunction emitMetaEvent(emitter, eventName, eventData) {\n\tif (!isMetaEvent(eventName)) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tcanEmitMetaEvents = true;\n\t\temitter.emit(eventName, eventData);\n\t} finally {\n\t\tcanEmitMetaEvents = false;\n\t}\n}\n\nexport default class Emittery {\n\tstatic mixin(emitteryPropertyName, methodNames) {\n\t\tmethodNames = defaultMethodNamesOrAssert(methodNames);\n\t\treturn target => {\n\t\t\tif (typeof target !== 'function') {\n\t\t\t\tthrow new TypeError('`target` must be function');\n\t\t\t}\n\n\t\t\tfor (const methodName of methodNames) {\n\t\t\t\tif (target.prototype[methodName] !== undefined) {\n\t\t\t\t\tthrow new Error(`The property \\`${methodName}\\` already exists on \\`target\\``);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getEmitteryProperty() {\n\t\t\t\tObject.defineProperty(this, emitteryPropertyName, {\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tvalue: new Emittery(),\n\t\t\t\t});\n\t\t\t\treturn this[emitteryPropertyName];\n\t\t\t}\n\n\t\t\tObject.defineProperty(target.prototype, emitteryPropertyName, {\n\t\t\t\tenumerable: false,\n\t\t\t\tget: getEmitteryProperty,\n\t\t\t});\n\n\t\t\tconst emitteryMethodCaller = methodName => function (...args) {\n\t\t\t\treturn this[emitteryPropertyName][methodName](...args);\n\t\t\t};\n\n\t\t\tfor (const methodName of methodNames) {\n\t\t\t\tObject.defineProperty(target.prototype, methodName, {\n\t\t\t\t\tenumerable: false,\n\t\t\t\t\tvalue: emitteryMethodCaller(methodName),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn target;\n\t\t};\n\t}\n\n\tstatic get isDebugEnabled() {\n\t\t// In a browser environment, `globalThis.process` can potentially reference a DOM Element with a `#process` ID,\n\t\t// so instead of just type checking `globalThis.process`, we need to make sure that `globalThis.process.env` exists.\n\t\t// eslint-disable-next-line n/prefer-global/process\n\t\tif (typeof globalThis.process?.env !== 'object') {\n\t\t\treturn isGlobalDebugEnabled;\n\t\t}\n\n\t\t// eslint-disable-next-line n/prefer-global/process\n\t\tconst {env} = globalThis.process ?? {env: {}};\n\t\treturn env.DEBUG === 'emittery' || env.DEBUG === '*' || isGlobalDebugEnabled;\n\t}\n\n\tstatic set isDebugEnabled(newValue) {\n\t\tisGlobalDebugEnabled = newValue;\n\t}\n\n\tconstructor(options = {}) {\n\t\tanyMap.set(this, new Set());\n\t\teventsMap.set(this, new Map());\n\t\tproducersMap.set(this, new Map());\n\n\t\tproducersMap.get(this).set(anyProducer, new Set());\n\n\t\tthis.debug = options.debug ?? {};\n\n\t\tif (this.debug.enabled === undefined) {\n\t\t\tthis.debug.enabled = false;\n\t\t}\n\n\t\tif (!this.debug.logger) {\n\t\t\tthis.debug.logger = (type, debugName, eventName, eventData) => {\n\t\t\t\ttry {\n\t\t\t\t\t// TODO: Use https://github.com/sindresorhus/safe-stringify when the package is more mature. Just copy-paste the code.\n\t\t\t\t\teventData = JSON.stringify(eventData);\n\t\t\t\t} catch {\n\t\t\t\t\teventData = `Object with the following keys failed to stringify: ${Object.keys(eventData).join(',')}`;\n\t\t\t\t}\n\n\t\t\t\tif (typeof eventName === 'symbol' || typeof eventName === 'number') {\n\t\t\t\t\teventName = eventName.toString();\n\t\t\t\t}\n\n\t\t\t\tconst currentTime = new Date();\n\t\t\t\tconst logTime = `${currentTime.getHours()}:${currentTime.getMinutes()}:${currentTime.getSeconds()}.${currentTime.getMilliseconds()}`;\n\t\t\t\tconsole.log(`[${logTime}][emittery:${type}][${debugName}] Event Name: ${eventName}\\n\\tdata: ${eventData}`);\n\t\t\t};\n\t\t}\n\t}\n\n\tlogIfDebugEnabled(type, eventName, eventData) {\n\t\tif (Emittery.isDebugEnabled || this.debug.enabled) {\n\t\t\tthis.debug.logger(type, this.debug.name, eventName, eventData);\n\t\t}\n\t}\n\n\ton(eventNames, listener, {signal} = {}) {\n\t\tassertListener(listener);\n\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tfor (const eventName of eventNames) {\n\t\t\tassertEventName(eventName);\n\t\t\tlet set = getListeners(this, eventName);\n\t\t\tif (!set) {\n\t\t\t\tset = new Set();\n\t\t\t\tconst events = eventsMap.get(this);\n\t\t\t\tevents.set(eventName, set);\n\t\t\t}\n\n\t\t\tset.add(listener);\n\n\t\t\tthis.logIfDebugEnabled('subscribe', eventName, undefined);\n\n\t\t\tif (!isMetaEvent(eventName)) {\n\t\t\t\temitMetaEvent(this, listenerAdded, {eventName, listener});\n\t\t\t}\n\t\t}\n\n\t\tconst off = () => {\n\t\t\tthis.off(eventNames, listener);\n\t\t\tsignal?.removeEventListener('abort', off);\n\t\t};\n\n\t\tsignal?.addEventListener('abort', off, {once: true});\n\n\t\tif (signal?.aborted) {\n\t\t\toff();\n\t\t}\n\n\t\treturn off;\n\t}\n\n\toff(eventNames, listener) {\n\t\tassertListener(listener);\n\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tfor (const eventName of eventNames) {\n\t\t\tassertEventName(eventName);\n\t\t\tconst set = getListeners(this, eventName);\n\t\t\tif (set) {\n\t\t\t\tset.delete(listener);\n\t\t\t\tif (set.size === 0) {\n\t\t\t\t\tconst events = eventsMap.get(this);\n\t\t\t\t\tevents.delete(eventName);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.logIfDebugEnabled('unsubscribe', eventName, undefined);\n\n\t\t\tif (!isMetaEvent(eventName)) {\n\t\t\t\temitMetaEvent(this, listenerRemoved, {eventName, listener});\n\t\t\t}\n\t\t}\n\t}\n\n\tonce(eventNames, predicate) {\n\t\tif (predicate !== undefined && typeof predicate !== 'function') {\n\t\t\tthrow new TypeError('predicate must be a function');\n\t\t}\n\n\t\tlet off_;\n\n\t\tconst promise = new Promise(resolve => {\n\t\t\toff_ = this.on(eventNames, data => {\n\t\t\t\tif (predicate && !predicate(data)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\toff_();\n\t\t\t\tresolve(data);\n\t\t\t});\n\t\t});\n\n\t\tpromise.off = off_;\n\t\treturn promise;\n\t}\n\n\tevents(eventNames) {\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tfor (const eventName of eventNames) {\n\t\t\tassertEventName(eventName);\n\t\t}\n\n\t\treturn iterator(this, eventNames);\n\t}\n\n\tasync emit(eventName, eventData) {\n\t\tassertEventName(eventName);\n\n\t\tif (isMetaEvent(eventName) && !canEmitMetaEvents) {\n\t\t\tthrow new TypeError('`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`');\n\t\t}\n\n\t\tthis.logIfDebugEnabled('emit', eventName, eventData);\n\n\t\tenqueueProducers(this, eventName, eventData);\n\n\t\tconst listeners = getListeners(this, eventName) ?? new Set();\n\t\tconst anyListeners = anyMap.get(this);\n\t\tconst staticListeners = [...listeners];\n\t\tconst staticAnyListeners = isMetaEvent(eventName) ? [] : [...anyListeners];\n\n\t\tawait resolvedPromise;\n\t\tawait Promise.all([\n\t\t\t...staticListeners.map(async listener => {\n\t\t\t\tif (listeners.has(listener)) {\n\t\t\t\t\treturn listener(eventData);\n\t\t\t\t}\n\t\t\t}),\n\t\t\t...staticAnyListeners.map(async listener => {\n\t\t\t\tif (anyListeners.has(listener)) {\n\t\t\t\t\treturn listener(eventName, eventData);\n\t\t\t\t}\n\t\t\t}),\n\t\t]);\n\t}\n\n\tasync emitSerial(eventName, eventData) {\n\t\tassertEventName(eventName);\n\n\t\tif (isMetaEvent(eventName) && !canEmitMetaEvents) {\n\t\t\tthrow new TypeError('`eventName` cannot be meta event `listenerAdded` or `listenerRemoved`');\n\t\t}\n\n\t\tthis.logIfDebugEnabled('emitSerial', eventName, eventData);\n\n\t\tconst listeners = getListeners(this, eventName) ?? new Set();\n\t\tconst anyListeners = anyMap.get(this);\n\t\tconst staticListeners = [...listeners];\n\t\tconst staticAnyListeners = [...anyListeners];\n\n\t\tawait resolvedPromise;\n\t\t/* eslint-disable no-await-in-loop */\n\t\tfor (const listener of staticListeners) {\n\t\t\tif (listeners.has(listener)) {\n\t\t\t\tawait listener(eventData);\n\t\t\t}\n\t\t}\n\n\t\tfor (const listener of staticAnyListeners) {\n\t\t\tif (anyListeners.has(listener)) {\n\t\t\t\tawait listener(eventName, eventData);\n\t\t\t}\n\t\t}\n\t\t/* eslint-enable no-await-in-loop */\n\t}\n\n\tonAny(listener, {signal} = {}) {\n\t\tassertListener(listener);\n\n\t\tthis.logIfDebugEnabled('subscribeAny', undefined, undefined);\n\n\t\tanyMap.get(this).add(listener);\n\t\temitMetaEvent(this, listenerAdded, {listener});\n\n\t\tconst offAny = () => {\n\t\t\tthis.offAny(listener);\n\t\t\tsignal?.removeEventListener('abort', offAny);\n\t\t};\n\n\t\tsignal?.addEventListener('abort', offAny, {once: true});\n\n\t\tif (signal?.aborted) {\n\t\t\toffAny();\n\t\t}\n\n\t\treturn offAny;\n\t}\n\n\tanyEvent() {\n\t\treturn iterator(this);\n\t}\n\n\toffAny(listener) {\n\t\tassertListener(listener);\n\n\t\tthis.logIfDebugEnabled('unsubscribeAny', undefined, undefined);\n\n\t\temitMetaEvent(this, listenerRemoved, {listener});\n\t\tanyMap.get(this).delete(listener);\n\t}\n\n\tclearListeners(eventNames) {\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\n\t\tfor (const eventName of eventNames) {\n\t\t\tthis.logIfDebugEnabled('clear', eventName, undefined);\n\n\t\t\tif (isEventKeyType(eventName)) {\n\t\t\t\tconst set = getListeners(this, eventName);\n\t\t\t\tif (set) {\n\t\t\t\t\tset.clear();\n\t\t\t\t}\n\n\t\t\t\tconst producers = getEventProducers(this, eventName);\n\t\t\t\tif (producers) {\n\t\t\t\t\tfor (const producer of producers) {\n\t\t\t\t\t\tproducer.finish();\n\t\t\t\t\t}\n\n\t\t\t\t\tproducers.clear();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tanyMap.get(this).clear();\n\n\t\t\t\tfor (const [eventName, listeners] of eventsMap.get(this).entries()) {\n\t\t\t\t\tlisteners.clear();\n\t\t\t\t\teventsMap.get(this).delete(eventName);\n\t\t\t\t}\n\n\t\t\t\tfor (const [eventName, producers] of producersMap.get(this).entries()) {\n\t\t\t\t\tfor (const producer of producers) {\n\t\t\t\t\t\tproducer.finish();\n\t\t\t\t\t}\n\n\t\t\t\t\tproducers.clear();\n\t\t\t\t\tproducersMap.get(this).delete(eventName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tlistenerCount(eventNames) {\n\t\teventNames = Array.isArray(eventNames) ? eventNames : [eventNames];\n\t\tlet count = 0;\n\n\t\tfor (const eventName of eventNames) {\n\t\t\tif (isEventKeyType(eventName)) {\n\t\t\t\tcount += anyMap.get(this).size\n\t\t\t\t\t+ (getListeners(this, eventName)?.size ?? 0)\n\t\t\t\t\t+ (getEventProducers(this, eventName)?.size ?? 0)\n\t\t\t\t\t+ (getEventProducers(this)?.size ?? 0);\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (eventName !== undefined) {\n\t\t\t\tassertEventName(eventName);\n\t\t\t}\n\n\t\t\tcount += anyMap.get(this).size;\n\n\t\t\tfor (const value of eventsMap.get(this).values()) {\n\t\t\t\tcount += value.size;\n\t\t\t}\n\n\t\t\tfor (const value of producersMap.get(this).values()) {\n\t\t\t\tcount += value.size;\n\t\t\t}\n\t\t}\n\n\t\treturn count;\n\t}\n\n\tbindMethods(target, methodNames) {\n\t\tif (typeof target !== 'object' || target === null) {\n\t\t\tthrow new TypeError('`target` must be an object');\n\t\t}\n\n\t\tmethodNames = defaultMethodNamesOrAssert(methodNames);\n\n\t\tfor (const methodName of methodNames) {\n\t\t\tif (target[methodName] !== undefined) {\n\t\t\t\tthrow new Error(`The property \\`${methodName}\\` already exists on \\`target\\``);\n\t\t\t}\n\n\t\t\tObject.defineProperty(target, methodName, {\n\t\t\t\tenumerable: false,\n\t\t\t\tvalue: this[methodName].bind(this),\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst allEmitteryMethods = Object.getOwnPropertyNames(Emittery.prototype).filter(v => v !== 'constructor');\n\nObject.defineProperty(Emittery, 'listenerAdded', {\n\tvalue: listenerAdded,\n\twritable: false,\n\tenumerable: true,\n\tconfigurable: false,\n});\nObject.defineProperty(Emittery, 'listenerRemoved', {\n\tvalue: listenerRemoved,\n\twritable: false,\n\tenumerable: true,\n\tconfigurable: false,\n});\n", "//#region src/launch-params.ts\n/**\n* Supported platforms for miniapps.\n*/\nconst PLATFORMS = [\"ios\", \"android\"];\n\n//#endregion\n//#region src/methods/versions/releases.ts\nconst releases = {\n\t\"0.0.9\": [\"app:ready\"],\n\t\"0.0.14\": [\"miniapp:close.ack\", \"host.back.button:toggle\"],\n\t\"0.1.1\": [\n\t\t\"payment:request\",\n\t\t\"clipboard:write\",\n\t\t\"clipboard:read\"\n\t],\n\t\"0.1.3\": [\"link:open\"]\n};\n\n//#endregion\n//#region src/methods/versions/get-release-version.ts\nfunction getReleaseVersion(method, payload) {\n\treturn Object.keys(releases).find((version) => {\n\t\tconst releaseItems = releases[version];\n\t\tif (!releaseItems) return false;\n\t\treturn releaseItems.some((item) => {\n\t\t\tif (payload) return typeof item === \"object\" && item.method === method && item.param === payload;\n\t\t\treturn item === method;\n\t\t});\n\t}) || null;\n}\n\n//#endregion\n//#region src/methods/versions/index.ts\n/**\n* Compare two semver versions.\n* @returns negative if a < b, 0 if a === b, positive if a > b\n*/\nfunction compareVersions(a, b) {\n\tconst [aMajor, aMinor, aPatch] = a.split(\".\").map(Number);\n\tconst [bMajor, bMinor, bPatch] = b.split(\".\").map(Number);\n\tif (aMajor !== bMajor) return (aMajor ?? 0) - (bMajor ?? 0);\n\tif (aMinor !== bMinor) return (aMinor ?? 0) - (bMinor ?? 0);\n\treturn (aPatch ?? 0) - (bPatch ?? 0);\n}\n/**\n* Check if a method is supported in a given version.\n*\n* Uses the minimum version that introduced the method and returns true if\n* the given version is >= that minimum (semver comparison). This supports\n* versions not explicitly listed in releases (e.g. 0.1.4 when method was\n* added in 0.1.1).\n*\n* @param method - The method name to check.\n* @param version - The contract version (must be a valid version string, not undefined).\n* @returns `true` if the method is supported in the given version, `false` otherwise.\n*\n* @remarks\n* This function only accepts valid version strings. Version existence checks should be\n* handled at a higher level before calling this function.\n*/\nfunction isMethodSupported(method, version) {\n\tconst minVersion = getMethodMinVersion(method);\n\tif (!minVersion) return false;\n\treturn compareVersions(version, minVersion) >= 0;\n}\n/**\n* Get the minimum version that supports a method.\n* Returns undefined if method not found in any version.\n*/\nfunction getMethodMinVersion(method) {\n\tconst sorted = Object.keys(releases).sort(compareVersions);\n\tfor (const version of sorted) {\n\t\tconst methods = releases[version];\n\t\tif (!methods) continue;\n\t\tif (methods.some((m) => typeof m === \"string\" ? m === method : m.method === method)) return version;\n\t}\n}\n\n//#endregion\nexport { PLATFORMS, getMethodMinVersion, getReleaseVersion, isMethodSupported, releases };", "import Emittery from \"emittery\";\nimport { PLATFORMS } from \"@alien_org/contract\";\n\n//#region src/errors.ts\n/**\n* Base class for all bridge-related errors.\n* Allows catching all bridge errors with a single catch block.\n*/\nvar BridgeError = class BridgeError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"BridgeError\";\n\t\tif (Error.captureStackTrace) Error.captureStackTrace(this, BridgeError);\n\t}\n};\n/**\n* Thrown when the bridge interface is not available.\n* This occurs when the miniapp is not running in Alien App.\n*/\nvar BridgeUnavailableError = class extends BridgeError {\n\tconstructor() {\n\t\tsuper(\"Bridge is not available. This SDK requires Alien App environment.\");\n\t\tthis.name = \"BridgeUnavailableError\";\n\t}\n};\n/**\n* Thrown when window is undefined (e.g., SSR scenarios).\n*/\nvar BridgeWindowUnavailableError = class extends BridgeError {\n\tconstructor() {\n\t\tsuper(\"Window is not available. This SDK requires a browser environment.\");\n\t\tthis.name = \"BridgeWindowUnavailableError\";\n\t}\n};\n/**\n* Thrown when a request times out.\n*/\nvar BridgeTimeoutError = class extends BridgeError {\n\tmethod;\n\ttimeout;\n\tconstructor(method, timeout) {\n\t\tsuper(`Request timeout: ${method} (${timeout}ms)`);\n\t\tthis.name = \"BridgeTimeoutError\";\n\t\tthis.method = method;\n\t\tthis.timeout = timeout;\n\t}\n};\n\n//#endregion\n//#region src/transport.ts\n/**\n* Gets the bridge instance if available.\n* Core function used internally by the bridge package.\n* @returns The bridge instance, or `undefined` if not available.\n*/\nfunction getBridge() {\n\tif (typeof window === \"undefined\") return;\n\tconst bridge = window.__miniAppsBridge__;\n\tif (!bridge || typeof bridge.postMessage !== \"function\") return;\n\treturn bridge;\n}\n/**\n* Sends a message using the native bridge.\n* Throws errors if bridge is unavailable (strict behavior).\n*/\nfunction sendMessage(message) {\n\tconst bridge = getBridge();\n\tif (!bridge) throw new BridgeUnavailableError();\n\tbridge.postMessage(JSON.stringify(message));\n}\n/**\n* Type guard to validate if data is a valid Message.\n*/\nfunction isMessage(data) {\n\treturn data !== null && typeof data === \"object\" && \"type\" in data && \"name\" in data && \"payload\" in data && (data.type === \"event\" || data.type === \"method\");\n}\n/**\n* Sets up a message listener that handles both stringified and object messages.\n* This works for all platforms (web, mobile, desktop).\n* Returns a no-op cleanup function if window is not available (e.g., SSR scenarios).\n*/\nfunction setupMessageListener(handler) {\n\tif (typeof window === \"undefined\") return () => {};\n\tconst messageHandler = (event) => {\n\t\tlet data = event.data;\n\t\tif (typeof data === \"string\") try {\n\t\t\tdata = JSON.parse(data);\n\t\t} catch {\n\t\t\treturn;\n\t\t}\n\t\tif (isMessage(data)) handler(data);\n\t};\n\twindow.addEventListener(\"message\", messageHandler);\n\treturn () => {\n\t\twindow.removeEventListener(\"message\", messageHandler);\n\t};\n}\n\n//#endregion\n//#region src/events.ts\nvar BridgeEmitter = class extends Emittery {\n\tconstructor() {\n\t\tsuper();\n\t\tsetupMessageListener((message) => {\n\t\t\tif (message.type === \"event\") this.emit(message.name, message.payload);\n\t\t});\n\t}\n};\nconst emitter = new BridgeEmitter();\nfunction on(name, listener) {\n\temitter.on(name, listener);\n\treturn () => {\n\t\temitter.off(name, listener);\n\t};\n}\nfunction off(name, listener) {\n\temitter.off(name, listener);\n}\nasync function emit(name, payload) {\n\tawait emitter.emit(name, payload);\n\tsendMessage({\n\t\ttype: \"event\",\n\t\tname,\n\t\tpayload\n\t});\n}\n\n//#endregion\n//#region src/launch-params.ts\nconst SESSION_STORAGE_KEY = \"alien/launchParams\";\n/**\n* Error thrown when launch params cannot be retrieved.\n*/\nvar LaunchParamsError = class extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = \"LaunchParamsError\";\n\t}\n};\nfunction validateVersion(value) {\n\tif (!value) return void 0;\n\treturn /^\\d+\\.\\d+\\.\\d+$/.test(value) ? value : void 0;\n}\nfunction validatePlatform(value) {\n\tif (!value) return void 0;\n\treturn PLATFORMS.includes(value) ? value : void 0;\n}\nfunction validateSafeAreaInsets(value) {\n\tif (!value || typeof value !== \"object\") return void 0;\n\tconst v = value;\n\tif (typeof v.top !== \"number\" || typeof v.right !== \"number\" || typeof v.bottom !== \"number\" || typeof v.left !== \"number\") return void 0;\n\treturn {\n\t\ttop: v.top,\n\t\tright: v.right,\n\t\tbottom: v.bottom,\n\t\tleft: v.left\n\t};\n}\nfunction retrieveFromWindow() {\n\tif (typeof window === \"undefined\") return null;\n\tif (window.__ALIEN_AUTH_TOKEN__ === void 0) return null;\n\treturn {\n\t\tauthToken: window.__ALIEN_AUTH_TOKEN__,\n\t\tcontractVersion: validateVersion(window.__ALIEN_CONTRACT_VERSION__),\n\t\thostAppVersion: window.__ALIEN_HOST_VERSION__,\n\t\tplatform: validatePlatform(window.__ALIEN_PLATFORM__),\n\t\tsafeAreaInsets: validateSafeAreaInsets(window.__ALIEN_SAFE_AREA_INSETS__),\n\t\tstartParam: window.__ALIEN_START_PARAM__\n\t};\n}\nfunction retrieveFromSessionStorage() {\n\tif (typeof window === \"undefined\") return null;\n\ttry {\n\t\tconst raw = sessionStorage.getItem(SESSION_STORAGE_KEY);\n\t\tif (!raw) return null;\n\t\treturn parseLaunchParams(raw);\n\t} catch {\n\t\treturn null;\n\t}\n}\nfunction persistToSessionStorage(params) {\n\ttry {\n\t\tsessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(params));\n\t} catch {}\n}\n/**\n* Parse launch params from JSON string.\n*/\nfunction parseLaunchParams(raw) {\n\tconst parsed = JSON.parse(raw);\n\treturn {\n\t\tauthToken: parsed.authToken,\n\t\tcontractVersion: validateVersion(parsed.contractVersion),\n\t\thostAppVersion: parsed.hostAppVersion,\n\t\tplatform: validatePlatform(parsed.platform),\n\t\tsafeAreaInsets: validateSafeAreaInsets(parsed.safeAreaInsets),\n\t\tstartParam: parsed.startParam\n\t};\n}\n/**\n* Inject mock launch params for development/testing.\n* Injects directly into window globals (same as host app would).\n* WARNING: Only use in development environments.\n*/\nfunction mockLaunchParamsForDev(params) {\n\tif (typeof window === \"undefined\") throw new LaunchParamsError(\"Cannot mock launch params: window is undefined\");\n\tconsole.warn(\"[@alien_org/bridge] Using mock launch params - dev mode\");\n\tif (params.authToken !== void 0) window.__ALIEN_AUTH_TOKEN__ = params.authToken;\n\tif (params.contractVersion !== void 0) window.__ALIEN_CONTRACT_VERSION__ = params.contractVersion;\n\tif (params.hostAppVersion !== void 0) window.__ALIEN_HOST_VERSION__ = params.hostAppVersion;\n\tif (params.platform !== void 0) window.__ALIEN_PLATFORM__ = params.platform;\n\tif (params.safeAreaInsets !== void 0) window.__ALIEN_SAFE_AREA_INSETS__ = params.safeAreaInsets;\n\tif (params.startParam !== void 0) window.__ALIEN_START_PARAM__ = params.startParam;\n}\n/**\n* Clear mock launch params from window globals and sessionStorage.\n*/\nfunction clearMockLaunchParams() {\n\tif (typeof window !== \"undefined\") {\n\t\tdelete window.__ALIEN_AUTH_TOKEN__;\n\t\tdelete window.__ALIEN_CONTRACT_VERSION__;\n\t\tdelete window.__ALIEN_HOST_VERSION__;\n\t\tdelete window.__ALIEN_PLATFORM__;\n\t\tdelete window.__ALIEN_SAFE_AREA_INSETS__;\n\t\tdelete window.__ALIEN_START_PARAM__;\n\t\ttry {\n\t\t\tsessionStorage.removeItem(SESSION_STORAGE_KEY);\n\t\t} catch {}\n\t}\n}\n/**\n* Retrieve launch params from available sources.\n* @throws LaunchParamsError if no source available\n*/\nfunction retrieveLaunchParams() {\n\tconst fromWindow = retrieveFromWindow();\n\tif (fromWindow) {\n\t\tpersistToSessionStorage(fromWindow);\n\t\treturn fromWindow;\n\t}\n\tconst fromStorage = retrieveFromSessionStorage();\n\tif (fromStorage) return fromStorage;\n\tthrow new LaunchParamsError(\"Launch params not available. Running outside Alien App? Use mockLaunchParamsForDev() for development.\");\n}\n/**\n* Try to get launch params, returns undefined if unavailable.\n*/\nfunction getLaunchParams() {\n\ttry {\n\t\treturn retrieveLaunchParams();\n\t} catch {\n\t\treturn;\n\t}\n}\n\n//#endregion\n//#region src/send.ts\n/**\n* Sends a one-way method to the host app without waiting for a response.\n* Use this for fire-and-forget methods like 'app:ready'.\n*\n* @param method - The method name to send\n* @param payload - The method payload\n*\n* @example\n* ```ts\n* import { send } from '@alien_org/bridge';\n*\n* send('app:ready', {});\n* ```\n*/\nfunction send(method, payload) {\n\tsendMessage({\n\t\ttype: \"method\",\n\t\tname: method,\n\t\tpayload\n\t});\n}\n\n//#endregion\n//#region src/utils.ts\n/**\n* Checks if the bridge is available.\n* Utility function for checking bridge availability.\n* @returns `true` if bridge is available, `false` otherwise.\n*/\nfunction isBridgeAvailable() {\n\treturn getBridge() !== void 0;\n}\n\n//#endregion\n//#region src/link-interceptor.ts\n/**\n* Intercepts clicks on external links and routes them through `link:open`.\n*\n* Same-origin links pass through for normal in-app navigation.\n* Skips: modifier keys, non-left-click, download links, `javascript:`/`blob:` protocols.\n*\n* @returns Cleanup function to remove the interceptor.\n*\n* @example\n* ```ts\n* const disable = enableLinkInterceptor();\n* // Later: disable();\n* ```\n*/\nfunction enableLinkInterceptor(options = {}) {\n\tif (typeof window === \"undefined\" || !isBridgeAvailable()) return () => {};\n\tconst { openMode } = options;\n\tfunction handler(e) {\n\t\tif (e.defaultPrevented) return;\n\t\tif (e.metaKey || e.ctrlKey || e.shiftKey || e.altKey || e.button !== 0) return;\n\t\tlet el = e.target;\n\t\twhile (el && el.tagName !== \"A\") el = el.parentElement;\n\t\tif (!el) return;\n\t\tconst anchor = el;\n\t\tif (!anchor.href || anchor.hasAttribute(\"download\")) return;\n\t\ttry {\n\t\t\tconst url = new URL(anchor.href, window.location.href);\n\t\t\tif (url.protocol === \"javascript:\" || url.protocol === \"blob:\") return;\n\t\t\tif (url.origin === window.location.origin) return;\n\t\t\tsend(\"link:open\", {\n\t\t\t\turl: url.href,\n\t\t\t\topenMode\n\t\t\t});\n\t\t\te.preventDefault();\n\t\t} catch {}\n\t}\n\tdocument.addEventListener(\"click\", handler);\n\treturn () => document.removeEventListener(\"click\", handler);\n}\n\n//#endregion\n//#region src/request.ts\nconst DEFAULT_TIMEOUT = 3e4;\nfunction generateReqId() {\n\treturn typeof crypto !== \"undefined\" && crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).slice(2);\n}\nasync function request(method, params, responseEvent, options = {}) {\n\tconst reqId = options.reqId || generateReqId();\n\tconst timeout = options.timeout || DEFAULT_TIMEOUT;\n\tconst payload = {\n\t\t...params,\n\t\treqId\n\t};\n\treturn new Promise((resolve, reject) => {\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tcleanup();\n\t\t\treject(new BridgeTimeoutError(String(method), timeout));\n\t\t}, timeout);\n\t\tconst cleanup = () => {\n\t\t\tclearTimeout(timeoutId);\n\t\t\toff(responseEvent, handleResponse);\n\t\t};\n\t\tconst handleResponse = (payload$1) => {\n\t\t\tif (payload$1.reqId === reqId) {\n\t\t\t\tcleanup();\n\t\t\t\tresolve(payload$1);\n\t\t\t}\n\t\t};\n\t\ton(responseEvent, handleResponse);\n\t\tsendMessage({\n\t\t\ttype: \"method\",\n\t\t\tname: method,\n\t\t\tpayload\n\t\t});\n\t});\n}\n\n//#endregion\nexport { BridgeError, BridgeTimeoutError, BridgeUnavailableError, BridgeWindowUnavailableError, LaunchParamsError, clearMockLaunchParams, emit, enableLinkInterceptor, getLaunchParams, isBridgeAvailable, mockLaunchParamsForDev, off, on, parseLaunchParams, request, retrieveLaunchParams, send };", "// WebSocket Auto-reconnect with exponential backoff\nfunction createWebSocket(roomId, alienId, role, onMessage, onConnectionChange) {\n  let ws = null;\n  let reconnectAttempts = 0;\n  const maxReconnectAttempts = 10;\n  const baseDelay = 1000; // 1 second\n  const maxDelay = 30000; // 30 seconds\n\n  function connect() {\n    try {\n      const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n      const wsUrl = `${protocol}//${window.location.host}/ws?roomId=${roomId}&alienId=${alienId}&role=${role}`;\n      ws = new WebSocket(wsUrl);\n\n      ws.onopen = () => {\n        console.log(`Connected to room ${roomId} as ${role}`);\n        reconnectAttempts = 0;\n        onConnectionChange('connected');\n      };\n\n      ws.onmessage = (event) => {\n        try {\n          const message = JSON.parse(event.data);\n          onMessage(message);\n        } catch (error) {\n          console.error('Failed to parse WebSocket message:', error);\n        }\n      };\n\n      ws.onclose = (event) => {\n        console.log(`WebSocket closed: ${event.code} - ${event.reason}`);\n        onConnectionChange('disconnected');\n        \n        // Attempt to reconnect\n        if (reconnectAttempts < maxReconnectAttempts) {\n          const delay = Math.min(baseDelay * Math.pow(2, reconnectAttempts), maxDelay);\n          console.log(`Reconnecting in ${delay}ms... (attempt ${reconnectAttempts + 1}/${maxReconnectAttempts})`);\n          \n          setTimeout(connect, delay);\n          reconnectAttempts++;\n        } else {\n          console.error('Max reconnection attempts reached');\n        }\n      };\n\n      ws.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        onConnectionChange('error');\n      };\n\n    } catch (error) {\n      console.error('Failed to create WebSocket:', error);\n      onConnectionChange('error');\n    }\n  }\n\n  // Start initial connection\n  connect();\n\n  // Return wrapper for sending messages\n  return {\n    send: (data) => {\n      if (ws && ws.readyState === WebSocket.OPEN) {\n        ws.send(JSON.stringify(data));\n      } else {\n        console.warn('WebSocket not ready, message not sent:', data);\n      }\n    },\n    close: () => {\n      if (ws) {\n        ws.close();\n      }\n    }\n  };\n}\n\n// Throttle function to limit how often a function can be called\nfunction throttle(func, delay) {\n  let timeoutId;\n  let lastExecTime = 0;\n  \n  return function (...args) {\n    const currentTime = Date.now();\n    \n    if (currentTime - lastExecTime > delay) {\n      func.apply(this, args);\n      lastExecTime = currentTime;\n    } else {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        func.apply(this, args);\n        lastExecTime = Date.now();\n      }, delay - (currentTime - lastExecTime));\n    }\n  };\n}\n\n// Toast notification system\nfunction showToast(message, type = 'info') {\n  // Remove existing toast\n  const existingToast = document.querySelector('.toast');\n  if (existingToast) {\n    existingToast.remove();\n  }\n\n  const toast = document.createElement('div');\n  toast.className = `toast toast-${type}`;\n  toast.textContent = message;\n  \n  document.body.appendChild(toast);\n  \n  // Auto-remove after 3 seconds\n  setTimeout(() => {\n    if (toast.parentNode) {\n      toast.remove();\n    }\n  }, 3000);\n}\n\n// Format currency\nfunction formatCurrency(amount) {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  }).format(amount);\n}\n\n// Format time\nfunction formatTime(timestamp) {\n  const date = new Date(timestamp);\n  return date.toLocaleTimeString('en-US', {\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n}\n\n// Get URL parameter\nfunction getUrlParam(name) {\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get(name);\n}\n\n// Import real Alien Bridge\nimport { send, request, on, isBridgeAvailable, getLaunchParams } from '@alien_org/bridge';\n\n// Make AlienBridge available globally (since attend.js and host.js reference it)\nwindow.AlienBridge = {\n  isAlienApp: false,\n  authToken: null,\n  alienId: null,\n\n  /**\n   * Initialize the bridge. Call this on page load.\n   * Returns to user's alienId (from JWT) or a mock dev ID.\n   */\n  async init() {\n    if (isBridgeAvailable()) {\n      this.isAlienApp = true;\n      const params = getLaunchParams();\n      \n      if (params && params.authToken) {\n        this.authToken = params.authToken;\n        \n        // Decode the JWT to get the alienId (sub claim)\n        // JWT is base64url encoded: header.payload.signature\n        try {\n          const payload = params.authToken.split('.')[1];\n          const decoded = JSON.parse(atob(payload.replace(/-/g, '+').replace(/_/g, '/')));\n          this.alienId = decoded.sub || decoded.alienId || 'alien_user_unknown';\n        } catch (e) {\n          console.warn('Failed to decode auth token:', e);\n          this.alienId = 'alien_user_' + Date.now();\n        }\n      } else {\n        this.alienId = 'alien_user_' + Date.now();\n      }\n\n      // Signal to the host app that we're ready\n      send('app:ready', {});\n      \n      return { alienId: this.alienId, verified: true };\n\n    } else {\n      // Dev mode \u2014 mock\n      console.log('[Pulse] Not running in Alien app \u2014 using dev mock');\n      this.isAlienApp = false;\n      this.alienId = 'dev_user_' + Math.random().toString(36).substr(2, 8);\n      return { alienId: this.alienId, verified: true };\n    }\n  },\n\n  /**\n   * Get identity \u2014 returns cached alienId from init()\n   */\n  async getIdentity() {\n    if (!this.alienId) {\n      return await this.init();\n    }\n    return { alienId: this.alienId, verified: true };\n  },\n\n  /**\n   * Request a payment via Alien Bridge\n   * @param {Object} params - { to: string, amount: number }\n   * @returns {Object} - { success: boolean, txId: string|null }\n   */\n  async requestPayment({ to, amount }) {\n    if (!this.isAlienApp) {\n      // Dev mode mock\n      const confirmed = confirm(`[DEV MODE] Simulate paying $${amount}?`);\n      return confirmed\n        ? { success: true, txId: 'mock_tx_' + Date.now() }\n        : { success: false, txId: null };\n    }\n\n    try {\n      // Create an invoice ID for this payment\n      const invoice = 'tip-' + Date.now() + '-' + Math.random().toString(36).substr(2, 6);\n\n      // Convert dollar amount to USDC smallest units (6 decimals)\n      // $1.00 = \"1000000\"\n      const amountInSmallestUnit = String(Math.round(amount * 1_000_000));\n\n      const response = await request(\n        'payment:request',\n        {\n          recipient: to,\n          amount: amountInSmallestUnit,\n          token: 'USDC',\n          network: 'solana',\n          invoice: invoice,\n          item: {\n            title: `$${amount.toFixed(2)} tip`,\n            iconUrl: '',\n            quantity: 1,\n          }\n        },\n        'payment:response',\n        { timeout: 60000 }  // 60s timeout for user to confirm\n      );\n\n      if (response.status === 'paid') {\n        return { success: true, txId: response.txHash || invoice };\n      } else if (response.status === 'cancelled') {\n        return { success: false, txId: null };\n      } else {\n        // failed\n        console.warn('Payment failed:', response.errorCode);\n        return { success: false, txId: null };\n      }\n\n    } catch (error) {\n      console.error('Payment error:', error);\n      return { success: false, txId: null };\n    }\n  }\n};\n"],
  "mappings": "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",
  "names": ["emitter", "off", "eventName", "BridgeError"]
}
